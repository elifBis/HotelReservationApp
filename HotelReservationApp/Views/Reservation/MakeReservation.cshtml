@* @model ReservationModel

@{
    ViewData["Title"] = "Make Reservation";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Make Reservation</h1>
<h6 asp-for="RoomTypeId">@Model.DailyPrice</h6>

<form asp-action="MakeReservation" method="post">

    <div class="form-group">
        <label asp-for="RoomTypeId">RoomTypeId</label>
        <input asp-for="RoomTypeId" class="form-control" readonly />
    </div>
    <div class="form-group">
        <label asp-for="CheckInDate">Check-In Date</label>
        <input asp-for="CheckInDate" type="date" class="form-control" required />
    </div>
    <div class="form-group">
        <label asp-for="CheckOutDate">Check-Out Date</label>
        <input asp-for="CheckOutDate" type="date" class="form-control" required />
    </div>
    <div class="form-group">
        <label asp-for="TotalPrice">Total Price</label>
        <input asp-for="TotalPrice" class="form-control" readonly />
    </div>

    <button type="submit" class="btn btn-primary">Make Reservation</button>
</form>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var checkInDateInput = document.getElementById('CheckInDate');
            var checkOutDateInput = document.getElementById('CheckOutDate');
            var totalPriceInput = document.getElementById('TotalPrice');
            var dailyPrice = @Model.DailyPrice;

            checkInDateInput.addEventListener('input', calculateTotal);
            checkOutDateInput.addEventListener('input', calculateTotal);

            function calculateTotal() {
                var checkInDate = new Date(checkInDateInput.value);
                var checkOutDate = new Date(checkOutDateInput.value);

                if (checkInDate && checkOutDate && checkOutDate > checkInDate) {
                    var oneDay = 24 * 60 * 60 * 1000;
                    var totalNights = Math.round(Math.abs((checkInDate - checkOutDate) / oneDay));

                    totalPriceInput.value = totalNights * dailyPrice;
                } else {
                    totalPriceInput.value = '';
                }
            }
        });
    </script>
} *@

@{
    ViewData["Title"] = "Make Reservation";
    Layout = "~/Views/Shared/_UILayout.cshtml";
}
@model HotelReservationApp.Models.ReservationModel



<section class="w3l-about-breadcrumb text-left">
    <div class="breadcrumb-bg breadcrumb-bg-about py-sm-5 py-4">
        <div class="container">
            <h2 class="title">Rezervasyon </h2>
            <ul class="breadcrumbs-custom-path mt-2">
                <li><a href="#url">Anasayfa</a></li>
                <li class="active"><span class="fa fa-arrow-right mx-2" aria-hidden="true"></span> Rezervasyon  </li>
            </ul>
        </div>
    </div>
</section>



<div class="container" style="padding:20px">
    <h3>Rezervasyon Yap</h3>
    <form asp-action="MakeReservation" method="post">
        <div class="form-group">
            <label asp-for="RoomTypeId">RoomTypeId</label>
            <input asp-for="RoomTypeId" class="form-control" readonly />
        </div>
        <div class="form-group">
            <label asp-for="CheckInDate">Check-In Date</label>
            <input asp-for="CheckInDate" type="date" class="form-control" required />
        </div>
        <div class="form-group">
            <label asp-for="CheckOutDate">Check-Out Date</label>
            <input asp-for="CheckOutDate" type="date" class="form-control" required />
        </div>
        <div class="form-group">
            <label asp-for="TotalPrice">Total Price</label>
            <input asp-for="TotalPrice" class="form-control" readonly />
        </div>

        <button type="submit" class="btn btn-primary">Rezervasyon Yap</button>

    </form>
</div>


@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var checkInDateInput = document.getElementById('CheckInDate');
            var checkOutDateInput = document.getElementById('CheckOutDate');
            var totalPriceInput = document.getElementById('TotalPrice');
            var dailyPrice = @Model.DailyPrice;

            checkInDateInput.addEventListener('input', calculateTotal);
            checkOutDateInput.addEventListener('input', calculateTotal);

            function calculateTotal() {
                var checkInDate = new Date(checkInDateInput.value);
                var checkOutDate = new Date(checkOutDateInput.value);

                if (checkInDate && checkOutDate && checkOutDate > checkInDate) {
                    var oneDay = 24 * 60 * 60 * 1000;
                    var totalNights = Math.round(Math.abs((checkInDate - checkOutDate) / oneDay));

                    totalPriceInput.value = totalNights * dailyPrice;
                } else {
                    totalPriceInput.value = '';
                }
            }
        });
    </script>


}